Version 4
SHEET 1 1192 1176
WIRE -496 -64 -736 -64
WIRE -352 -64 -416 -64
WIRE -256 -64 -352 -64
WIRE -112 -64 -256 -64
WIRE -16 -64 -112 -64
WIRE 96 -64 -16 -64
WIRE 272 -64 160 -64
WIRE 480 -64 272 -64
WIRE 720 -64 480 -64
WIRE 976 -64 784 -64
WIRE 272 -16 272 -64
WIRE 976 16 976 -64
WIRE -736 32 -736 -64
WIRE -624 128 -736 128
WIRE -528 128 -624 128
WIRE -432 128 -528 128
WIRE 272 128 272 64
WIRE 480 128 272 128
WIRE 576 128 480 128
WIRE 688 128 640 128
WIRE 800 128 688 128
WIRE 976 128 800 128
WIRE 272 176 272 128
WIRE -736 224 -736 128
WIRE -624 224 -624 128
WIRE -432 224 -432 128
WIRE -112 240 -112 -64
WIRE 176 256 48 256
WIRE 224 256 176 256
WIRE 48 304 48 256
WIRE -624 320 -624 304
WIRE -512 320 -624 320
WIRE -432 320 -432 304
WIRE -352 320 -352 -64
WIRE -352 320 -432 320
WIRE -272 320 -352 320
WIRE -16 320 -16 -64
WIRE 0 320 -16 320
WIRE 272 320 272 272
WIRE 496 320 272 320
WIRE 624 320 496 320
WIRE 976 320 976 128
WIRE 688 336 688 128
WIRE 800 336 800 128
WIRE -624 352 -624 320
WIRE -432 352 -432 320
WIRE -272 352 -272 320
WIRE -112 368 -112 320
WIRE 0 368 -112 368
WIRE 176 400 176 256
WIRE -736 432 -736 304
WIRE -672 432 -736 432
WIRE -512 432 -512 320
WIRE -480 432 -512 432
WIRE 48 448 48 384
WIRE -736 480 -736 432
WIRE -512 496 -512 432
WIRE -320 496 -320 432
WIRE -320 496 -512 496
WIRE -112 576 -112 368
WIRE 48 576 48 528
WIRE 48 576 -112 576
WIRE 176 576 176 480
WIRE 176 576 48 576
WIRE 272 576 272 320
WIRE 272 576 176 576
WIRE -736 624 -736 560
WIRE -624 624 -624 448
WIRE -432 624 -432 448
WIRE -272 624 -272 448
WIRE 624 624 624 320
WIRE 688 624 688 400
WIRE 800 624 800 400
WIRE 976 624 976 400
FLAG 480 -64 2_Vbat
FLAG 480 128 4_VL
FLAG -256 -64 1_Vsol
FLAG 496 320 3_Vgnd
FLAG 688 624 0
FLAG 800 624 0
FLAG -736 32 0
FLAG 976 16 0
FLAG 800 128 Vcc
FLAG 976 624 0
FLAG 624 624 0
FLAG -432 624 0
FLAG -624 624 0
FLAG -736 624 0
FLAG -528 128 Vcc
FLAG -272 624 0
SYMBOL ind 256 -32 R0
SYMATTR InstName L1
SYMATTR Value 47µ
SYMATTR SpiceLine Rser=0.1
SYMBOL nmos 224 176 R0
SYMATTR InstName M1
SYMATTR Value 2N7002
SYMBOL nmos -480 352 R0
SYMATTR InstName M2
SYMATTR Value 2N7002
SYMBOL nmos -672 352 R0
SYMATTR InstName M3
SYMATTR Value 2N7002
SYMBOL voltage 48 432 R0
WINDOW 3 -157 163 Left 2
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName V1
SYMATTR Value PULSE(0 5 0 1u 1u 5u 10u)
SYMBOL sw 48 400 M180
SYMATTR InstName S1
SYMATTR Value MYSW
SYMBOL res 160 384 R0
SYMATTR InstName R1
SYMATTR Value 1k
SYMBOL schottky 96 -48 R270
WINDOW 0 32 32 VTop 2
WINDOW 3 0 32 VBottom 2
SYMATTR InstName D1
SYMATTR Value BAT46WJ
SYMATTR Description Diode
SYMATTR Type diode
SYMBOL res -128 224 R0
SYMATTR InstName R2
SYMATTR Value 30k
SYMBOL schottky 576 144 R270
WINDOW 0 32 32 VTop 2
WINDOW 3 0 32 VBottom 2
SYMATTR InstName D2
SYMATTR Value BAT46WJ
SYMATTR Description Diode
SYMATTR Type diode
SYMBOL polcap 672 336 R0
WINDOW 3 24 56 Left 2
SYMATTR InstName C1
SYMATTR Value 100µ
SYMATTR Description Capacitor
SYMATTR Type cap
SYMATTR SpiceLine V=4 Irms=3.72678 Rser=0.018 Lser=0 mfg="KEMET" pn="A700D107M004ATE018" type="Al electrolytic"
SYMBOL cap 784 336 R0
SYMATTR InstName C2
SYMATTR Value 0.1µ
SYMATTR SpiceLine V=16 Irms=4.39 Rser=0.0357547 Lser=0 mfg="KEMET" pn="C0402C104K4RAC" type="X7R"
SYMBOL voltage -400 -64 R90
WINDOW 0 -32 56 VBottom 2
WINDOW 3 32 56 VTop 2
WINDOW 123 0 0 Left 0
WINDOW 39 94 57 VBottom 2
SYMATTR InstName V2
SYMATTR Value 2.4
SYMATTR SpiceLine Rser= {X}
SYMBOL Misc\\cell 720 -64 R270
WINDOW 0 32 32 VTop 2
WINDOW 3 -32 32 VBottom 2
WINDOW 123 0 0 Left 0
WINDOW 39 -94 34 VTop 2
SYMATTR InstName V4
SYMATTR Value 1.2
SYMATTR SpiceLine Rser=0.5
SYMBOL res 960 304 R0
SYMATTR InstName R3
SYMATTR Value {R}
SYMBOL res -448 208 R0
SYMATTR InstName R4
SYMATTR Value 220k
SYMBOL res -640 208 R0
SYMATTR InstName R5
SYMATTR Value 470k
SYMBOL res -752 208 R0
SYMATTR InstName R6
SYMATTR Value 1Meg
SYMBOL res -752 464 R0
SYMATTR InstName R7
SYMATTR Value 550k
SYMBOL nmos -320 352 R0
SYMATTR InstName M4
SYMATTR Value 2N7002
TEXT -160 672 Left 2 !.model MYSW SW(Ron=1Meg Roff=1 Vt= {Z} Vh= 0.05)
TEXT -32 -144 Left 4 ;YX8051 Solar IC
TEXT -160 776 Left 2 !.step param R list 5k 1k 500
TEXT 642 684 Left 4 !.tran 0 100m 0 1u
TEXT 248 720 Left 2 !.param X 1000000
TEXT -160 720 Left 2 !.param Z 0.5*(0.277+0.377)
TEXT 664 -144 Left 4 ;NiMH Akku
TEXT -520 -144 Left 4 ;Solarcell
TEXT 912 408 Left 2 ;AVR
RECTANGLE Normal 368 624 -160 -208 3
RECTANGLE Normal 1056 464 896 288 3
